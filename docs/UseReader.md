# 关于阅读器
<!-- 2025-03-04 -->
因为本人写代码非常懈怠，现在阅读器也只能进行基础的阅读和跳转，其他功能一律没有。

## 常规样式修改
```css
.container {
    padding: 0 2rem;
}

p {
    margin-bottom: 10px;
    text-indent: 2em;
    font-size: 20px;
    line-height: 1.5;
    font-family: 'system-ui';
    text-align: justify;
    letter-spacing: normal;
     /*换行策略，不可修改  */
}
```
目前来看，容器内边距，字体，字体大小，行间距这些随意修改，在现有的`worker`里面计算也不算费时，如果有时间的话很快可以支持。
但是字符间距 目前暂不支持调整 可能要花点时间想一下。

## 拓展功能
1. 书签
2. 批注
3. 阅读时间记录
4. 全文搜索
5. 横向翻页

每个开发都要时间，有些是不想写，有些是不会写。如果每天能少打两把`lol`或许这个项目早就完结了吧。
稍微说下不好弄的几个：批注功能，万恶的`safari`不能阻止`contextmenu`,如果我采用`html+css`的渲染方式，我永远也无法避免safari那个菜单，所以真的不想写；全文搜索，对我来说很陌生，得去问问`deepseek`暂时没什么思路；横向翻页，单纯不想写，我觉得滚动足以...或许以后还会来个自动滚动，反正也不麻烦。

## 坑点
其实这个项目，如果我自己选择避开一些坑点，会开发的顺利一点。比如，我为了那个能够从头拖到尾巴的滚动条，前后调整了`worker`很多次。为了计算的速度优化算法（我很菜，写的很垃圾，改了好多次慢慢摸索到了一个过得去的算法），为了计算的准确性去学习`中文换行规则`，还有虚拟列表，动态高度虚拟列表都是慢慢学来的。
断断续续的：
1. `2023-10`第一次提交，简单的写了点idb和parse，渲染这一步都没做到。。。
2. `2024-04`第二次，还是用上了vue，开始构建界面，搞点动画啥的（同时也开始考虑前面提到的从头拖动到尾的滚动条，走上不归路）
3. `2025-07-2025-08`算是第三次，月底到月初，第一次想到了缓存所有的`char`,大幅度节省了计算时间
4. `2025-03`第四次，想到了用前缀和数组，预估可能的换行点，并且减小了代码的阅读难度，字少我现在觉得我的算法可以准确地把握了，真不容易。

因为最近的心血来潮，想把跨设备同步完善，或许我的`从头拖动到尾巴的滚动条`就要完结了？也不一定，我可以限制滚动速度，回退。但是这都没有完全再本地全部解析完全来的快。。。
